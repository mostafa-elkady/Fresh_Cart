"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[276],{4276:(b,u,r)=>{r.r(u),r.d(u,{WishlistComponent:()=>C});var l=r(6895),_=r(4349),t=r(1571),d=r(910),m=r(2018);function h(s,o){if(1&s&&t._UZ(0,"i",19),2&s){const i=o.$implicit,e=t.oxw().$implicit;t.ekj("rating-color",e.ratingsAverage>=i)}}const p=function(s){return["/product-details",s]},g=function(){return[1,2,3,4,5]};function f(s,o){if(1&s){const i=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"a",8),t._UZ(3,"img",9),t.TgZ(4,"div",10)(5,"p",11),t._uU(6),t.qZA(),t.TgZ(7,"h5",12),t._uU(8),t.qZA(),t.TgZ(9,"div",13)(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"div"),t.YNc(13,h,1,2,"i",14),t.TgZ(14,"span"),t._uU(15),t.qZA()()()()(),t.TgZ(16,"i",15,16),t.NdJ("click",function(){const c=t.CHM(i).$implicit,a=t.oxw(2);return t.KtG(a.removeWishlistItem(c._id))}),t.qZA(),t.TgZ(18,"button",17,18),t.NdJ("click",function(){const c=t.CHM(i).$implicit,a=t.MAs(19),T=t.oxw(2);return t.KtG(T.addtocart(c._id,a))}),t._uU(20," + Add TO Cart "),t.qZA()()()}if(2&s){const i=o.$implicit;let e,n;t.xp6(2),t.Q6J("routerLink",t.VKq(7,p,null==i?null:i._id)),t.xp6(1),t.Q6J("src",null==i?null:i.imageCover,t.LSH),t.xp6(3),t.hij(" ",null==i||null==i.category?null:i.category.name," "),t.xp6(2),t.hij(" ",null==i||null==i.title||null==(e=i.title.split(" "))||null==(n=e.slice(0,2))?null:n.join(" ")," "),t.xp6(3),t.hij("",null==i?null:i.price," EGP"),t.xp6(2),t.Q6J("ngForOf",t.DdM(9,g)),t.xp6(2),t.Oqu(null==i?null:i.ratingsAverage)}}function x(s,o){if(1&s&&(t.TgZ(0,"section")(1,"h2",2),t._uU(2,"Wishlist products"),t._UZ(3,"i",3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,f,21,10,"div",5),t.qZA()()),2&s){const i=t.oxw();t.xp6(5),t.Q6J("ngForOf",i.wishlistProducts)}}function v(s,o){1&s&&(t.TgZ(0,"p",20),t._uU(1,"Your Wishlist Is Empty"),t.qZA(),t.TgZ(2,"a",21)(3,"button",22),t._uU(4,"Back To Products To add More Wishlist"),t.qZA()())}let C=(()=>{class s{constructor(i,e,n){this._CartService=i,this._ToastrService=e,this._Renderer2=n,this.wishlist=null,this.wishlistId="",this.wishlistProducts=[],this.wishlistnum=0}ngOnInit(){this._CartService.getUserWishlist().subscribe({next:i=>{this.wishlistProducts=i.data,this._CartService.wishlistNumber.next(i.count)}})}removeWishlistItem(i){this._CartService.removeWishlistItem(i).subscribe({next:e=>{this.wishlistProducts=e.data,this._ToastrService.success(e.message),this._CartService.getUserWishlist().subscribe({next:n=>{this.wishlistProducts=n.data}})}})}addtocart(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(i).subscribe({next:n=>{this._ToastrService.success(n.message),this._CartService.cartNumber.next(n.numOfCartItems),this._Renderer2.removeAttribute(e,"disabled")},error:n=>{this._Renderer2.removeAttribute(e,"disabled")}})}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(d.N),t.Y36(m._W),t.Y36(t.Qsj))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["message",""],[1,"txt-color","text-center","mt-4"],[1,"fa","fa-heart","text-danger"],[1,"row","g-2","my-5","justify-content-center"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-6 my-2","role","button",4,"ngFor","ngForOf"],["role","button",1,"col-xl-2","col-lg-3","col-md-4","col-sm-6","my-2"],[1,"product","position-relative"],[1,"txt-color","text-decoration-none",3,"routerLink"],["alt","wishlistProduct-image",1,"w-100",3,"src"],[1,"content","p-2"],[1,"text-main","fw-normnal","mt-3","txt-color","my-0"],[1,"txt-color","h6"],[1,"d-flex","justify-content-between","txt-color","font-sm"],["class","fa fa-star ",3,"rating-color",4,"ngFor","ngForOf"],["role","a",1,"fa-regular","fa-trash-can","position-absolute","remove",3,"click"],["addtowishlist",""],[1,"btn","bg-main","text-white","mb-2",3,"click"],["addBtn",""],[1,"fa","fa-star"],[1,"p-5","fs-3","text-center","fw-bold","txt-color"],["routerLink","/products"],[1,"btn","bg-main","text-white","d-block","mx-auto","mb-3","fw-bold"]],template:function(i,e){if(1&i&&(t.YNc(0,x,6,1,"section",0),t.YNc(1,v,5,0,"ng-template",null,1,t.W1O)),2&i){const n=t.MAs(2);t.Q6J("ngIf",e.wishlistProducts.length>0)("ngIfElse",n)}},dependencies:[l.ez,l.sg,l.O5,_.rH],styles:[".remove[_ngcontent-%COMP%]{top:1rem;right:1rem;color:#303030;font-size:1.5rem;cursor:pointer;z-index:100;color:var(--main-color)}"]}),s})()}}]);